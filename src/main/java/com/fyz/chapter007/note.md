## Chapter 007 在对象之间搬移特性

### Move Method

- 一个类中有个函数与另一个类交流更多，在新的类中建立类似的函数，将旧的类变成委托函数或移除

### Move Field

- 有一个字段被另一个类更多地用到。

- 在目标类新建一个字段，修改原字段的所有用户，令它们改用新字段

#### 要点

1. 如果字段的访问级是 public，使用 Encapsulate Field封装起来

### Extract Class

- 某个类做了应该两个类做的事

- 建立一个新的类，将相应的字段和函数从旧类搬移到新类中

#### 要点

1. 建了新类后，建立从旧类访问新类的连接关系，可能需要双向连接

1. 搬移函数时，先搬移较低层级函数（被其他调用多余调用别人），再搬移较高层级函数

1. 搬移完之后，检查可不可以把双向连接改成单向连接

1. 最后决定是否要公开新类

    - 公开的话，需要考虑别名带来的危害
    
1. 这个方法时改善并发程序的一种常用技术，为提炼后的两个类分别加锁。

    - 同样也存在危险，如果需要保证两个对象被同时锁定，需要面临事物问题。